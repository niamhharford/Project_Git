---
title: "Dissertation 2009/2010 Data"
author: "Niamh Harford 20251644"
date: "4/9/2021"
output: html_document
---



```{r}
#Load in data
load("~/Documents/Masters/Dissertation/Project_Git/Data/data_09_10.RData")
```

```{r}
#Libraries
suppressMessages(library(tidyverse))
```


```{r}
#Count how much Na values in each variable - All Data

data %>%
  dplyr::summarise(count_hyp = sum(is.na(Hypertension)),
            count_gender = sum(is.na(Gender)),
            count_age = sum(is.na(Age)),
            count_race = sum(is.na(Race)),
            count_smoke20 = sum(is.na(Smoking)),
            count_diabetes10 = sum(is.na(Diabetes)),
            count_diabetes50 = sum(is.na(Insulin)),
            count_kidney = sum(is.na(KidneyF)),
            count_bmi = sum(is.na(BMI)),
            count_activity = sum(is.na(PhysActivity)),
            count_alcohol = sum(is.na(Alcohol)),
            count_salt = sum(is.na(Salt)),
            count_potassium = sum(is.na(Potassium)))

#1371 missing in total
```


```{r}
#removing the unknown "don't know" responses from the data

data1 <- data %>% filter(Hypertension != "Don't know") %>% filter(Diabetes != "Don't know") %>%
  filter(KidneyF != "Don't know") %>% filter(Salt != "Don't know") %>%
  filter(Alcohol != "Don't know") %>% filter(PhysActivity != "Don't know") 

#readjusting the levels for each factor variable
data1 <- data1 %>% droplevels()
```

```{r}
#checking the levels are adjusted correctly
levels(data1$Hypertension)
levels(data1$Diabetes)
levels(data1$KidneyF)
levels(data1$Salt)
levels(data1$PhysActivity)
levels(data1$Alcohol)
table(data1$Hypertension)
```

```{r,eval=FALSE}
save(data1, file = "data1_09_10.RData")
load("data1_09_10.RData")
```


```{r}
#Count how much Na values in each variable

data1 %>%
  summarise(count_hyp = sum(is.na(Hypertension)),
            count_gender = sum(is.na(Gender)),
            count_age = sum(is.na(Age)),
            count_race = sum(is.na(Race)),
            count_smoke20 = sum(is.na(Smoking)),
            count_diabetes10 = sum(is.na(Diabetes)),
            count_diabetes50 = sum(is.na(Insulin)),
            count_kidney = sum(is.na(KidneyF)),
            count_bmi = sum(is.na(BMI)),
            count_activity = sum(is.na(PhysActivity)),
            count_alcohol = sum(is.na(Alcohol)),
            count_salt = sum(is.na(Salt)),
            count_potassium = sum(is.na(Potassium)))

#42 missing values in total

```

#### Check the number of observaions in each data set when NAs removed

```{r}
nrow(data)
#6059
data_a <- na.omit(data)
nrow(data_a)
#5227
```

```{r}
nrow(data1)
#5170
data2 <- na.omit(data1)
nrow(data2)
#5128
```


There seems to be no major difference between the two data sets (data1, with levels altered and data) when I omit the NA values


```{r, eval=F}
save(data2, file = "data2_09_10.RData")
load("data2_09_10.RData")
```

```{r}
glimpse(data2)
```









